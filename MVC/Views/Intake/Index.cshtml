@model MVC.ViewModel.Intake.IntakeViewModel
@using MVC.Helper
@{
    ViewBag.Title = "Index";

}

<h2>Index</h2>
<div>
    <p>Step:5 Are you co-paying today?</p>
    
    @Html.MyTextBoxFor(model=>model.phone)
    
    @Html.Partial("Payments", Model.PaymentsViewModel)
</div>
<div>
    <p>Step:6 Search Pharmacy</p>
    @Html.Partial("Pharmacy", Model.PharmacyViewModel)
    @*@Html.Partial("ContactDetails",Model.ContactDetailsViewModel)*@
</div>



    <style>
        /*html {
            -webkit-transition: background-color 1s;
            transition: background-color 1s;
        }

        html, body {
            min-height: 100%;
        }

            div.loading {
                background: #333 url('http://code.jquery.com/mobile/1.3.1/images/ajax-loader.gif') no-repeat 50% 50%;
                -webkit-transition: background-color 0;
                transition: background-color 0;
            }

        body {
            -webkit-transition: opacity 1s ease-in;
            transition: opacity 1s ease-in;
        }

        div.loading body {
            opacity: 0;
            -webkit-transition: opacity 0;
            transition: opacity 0;
        }

        button {
            background: #00A3FF;
            color: white;
            padding: 0.2em 0.5em;
            font-size: 1.5em;
        }*/

        .modals {
    display:    none;
    position:   fixed;
    z-index:    1000;
    top:        0;
    left:       0;
    height:     100%;
    width:      100%;
    background: rgba( 255, 255, 255, .8 ) 
                url('http://sampsonresume.com/labs/pIkfp.gif') 
                50% 50% 
                no-repeat;
}

/* When the body has the loading class, we turn
   the scrollbar off with overflow:hidden */
.Payments.loading {
    overflow: hidden;   
}

/* Anytime the body has the loading class, our
   modal element will be visible */
.Payments.loading .modals {
    display: block;
}

    </style>
 



@section Scripts {
     <link rel="stylesheet" type="text/css" href="https://code.jquery.com/ui/1.8.18/themes/smoothness/jquery-ui.css"/>
<link rel="stylesheet" type="text/css" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"/>

<script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="https://code.jquery.com/jquery-migrate-1.2.1.js"></script>
<script src="https://code.jquery.com/ui/1.8.18/jquery-ui.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script>

       

        @*$("#payments-frm").submit(function (e) {
            e.preventDefault();
            $.ajaxSetup({
                beforeSend:function(){
                    // show gif here, eg:

                    $body = $(".Payments");
                    $body.addClass("loading");
                },
                complete: function () {

                    $body = $(".Payments");
                    $body.removeClass("loading");
                }
            });
           $.ajax({
               url: '@Url.Action("Payments","Intake")',
                type: "post",
                data: $("payments-frm").serialize(),
                success: function (response) {


                },
                error: function(jqXHR, textStatus, errorThrown) {
                   console.log(textStatus, errorThrown);
                }


            });*@


        });

</script>
}